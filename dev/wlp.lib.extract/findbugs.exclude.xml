<FindBugsFilter>
  <!-- Begin Global Findbugs Excludes do not edit by hand - edit globally-->
  <Match>
    <Bug pattern="BC_IMPOSSIBLE_INSTANCEOF,BC_VACUOUS_INSTANCEOF,BSHIFT_WRONG_ADD_PRIORITY,CO_COMPARETO_INCORRECT_FLOATING,DE_MIGHT_IGNORE,DLS_DEAD_LOCAL_STORE,DM_BOXED_PRIMITIVE_FOR_PARSING,DM_BOXED_PRIMITIVE_TOSTRING,DM_NUMBER_CTOR,DMI_HARDCODED_ABSOLUTE_FILENAME,EQ_DOESNT_OVERRIDE_EQUALS,INT_BAD_COMPARISON_WITH_NONNEGATIVE_VALUE,IT_NO_SUCH_ELEMENT,ME_ENUM_FIELD_SETTER,ME_MUTABLE_ENUM_FIELD,MS_CANNOT_BE_FINAL,MS_MUTABLE_ARRAY,MS_MUTABLE_COLLECTION,MS_MUTABLE_COLLECTION_PKGPROTECT,MS_PKGPROTECT,NP_LOAD_OF_KNOWN_NULL_VALUE,NP_NULL_ON_SOME_PATH,NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE,NP_NULL_PARAM_DEREF,OBL_UNSATISFIED_OBLIGATION_EXCEPTION_EDGE,RANGE_ARRAY_INDEX,RCN_REDUNDANT_NULLCHECK_OF_NULL_VALUE,RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE,RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE,RpC_REPEATED_CONDITIONAL_TEST,RV_RETURN_VALUE_IGNORED_NO_SIDE_EFFECT,SA_FIELD_SELF_ASSIGNMENT,SQL_PREPARED_STATEMENT_GENERATED_FROM_NONCONSTANT_STRING,STCAL_STATIC_SIMPLE_DATE_FORMAT_INSTANCE,UC_USELESS_CONDITION,UC_USELESS_CONDITION_TYPE,UC_USELESS_OBJECT,UC_USELESS_VOID_METHOD,WMI_WRONG_MAP_ITERATOR"/>
  </Match>
  <!-- End Global Findbugs Excludes do not edit by hand - edit globally-->    
      <!-- match generated nls classes: return mutable type -->
    <Match>
      <Class name="~wlp.lib.extract.SelfExtractMessages.*" />
      <Method name="getContents"/>
      <Bug code="EI" />
    </Match>
    
   <!-- match generated nls classes: return mutable type -->
   <Match> 
      <Bug pattern="EI_EXPOSE_REP" />
      <Class name="~.*\.resources\..*" />
      <Method name="getContents"/>
   </Match>

    <!-- Assume that self-extract has privilege -->
    <Match>
      <Bug pattern="DJV_CONSTRUCT_INSIDE_DO_PRIVILEGED, DJV_DO_INSIDE_DO_PRIVILEGED"/>
    </Match>

    <!-- Assume that the main class is permitted to make System.out.println and System.err.println etc. calls-->
    <Match>
      <Class name="wlp.lib.extract.SelfExtract" />
      <Bug pattern="SYSTEM_ERR_USED, SYSTEM_OUT_USED, DM_EXIT"/>
    </Match>

    <!-- Assume that the SelfExtractor class is permitted to make System.out.println and System.err.println etc. calls-->
    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Method name="printNeededIFixes" />
      <Bug pattern="SYSTEM_OUT_USED"/>
    </Match>

    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Method name="installAssets" />
      <Bug pattern="SYSTEM_OUT_USED"/>
    </Match>
    
    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Method name="installAssets" />
      <Bug pattern="MESSAGE_FORMAT_CALLED_WITH_NO_INSERTS"/>
    </Match>
    
    <Match>
      <Class name="wlp.lib.extract.SelfExtractor$OutputStreamCopierInstallUtil" />
      <Bug pattern="DM_DEFAULT_ENCODING"/>
    </Match>

    <!-- Assume that the SelfExtract class is permitted to make System.out.println and System.err.println etc. calls-->
    <Match>
      <Class name="wlp.lib.extract.SelfExtract$VerboseExtractProgress" />
      <Bug pattern="SYSTEM_OUT_USED"/>
    </Match>
    
    <!-- Ignore the fact that we don't check the result of several File.mkdirs() invocations.  We are making
         empty directories, so if something fails it's okay. -->
    <Match>
      <Class name="wlp.lib.extract.SelfExtract" />
      <Bug pattern="RV_RETURN_VALUE_IGNORED_BAD_PRACTICE"/>
      <Method name="unpack"/>
    </Match>
    
    <!-- Ignore the inefficient use of new Integer since this has to work with Java 1.4. -->
    <Match>
      <Class name="wlp.lib.extract.MapBasedSelfExtractor" />
      <Bug pattern="DM_NUMBER_CTOR" />
    </Match>
    
    <!-- Ignore the parameters being passed in for messages to ReturnCode -->
    <Match>
      <Class name="wlp.lib.extract.ReturnCode" />
      <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>
    
    <!-- Ignore failure to create and delete stuff (we are doing best can do at that point) -->
    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Bug pattern="RV_RETURN_VALUE_IGNORED_BAD_PRACTICE"/>
    </Match>
    <Match>
      <Class name="wlp.lib.extract.SelfExtractUtils" />
      <Bug pattern="RV_RETURN_VALUE_IGNORED_BAD_PRACTICE"/>
    </Match>
    
        <!-- Assume that the main class is permitted to make System.out.println and System.err.println etc. calls-->
    <Match>
      <Class name="wlp.lib.extract.SelfExtractUtils" />
      <Bug pattern="SYSTEM_OUT_USED"/>
      <Or>
      <Method name="makeExecutable" />
      <Method name="showLicenseFile" />
      </Or>
    </Match>
    
    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Method name="printNeededIFixes"/>
      <Bug pattern="THREAD_START_CALLED"/>
    </Match>

    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Method name="installAssets"/>
      <Bug pattern="THREAD_START_CALLED"/>
    </Match>

    <Match>
      <Class name="wlp.lib.extract.SelfExtractUtils" />
      <Method name="copyAsync"/>
      <Bug pattern="THREAD_START_CALLED"/>
    </Match>

	<!-- Self starting thread monitoring output of a process -->
    <Match>
      <Class name="wlp.lib.extract.platform.PlatformUtils" />
      <Method name="copyOutputThread"/>
      <Bug pattern="THREAD_START_CALLED"/>
    </Match>

    <Match>
      <Class name="wlp.lib.extract.SelfExtractUtils$1" />
      <Method name="run"/>
      <Bug pattern="THROWABLE_PRINT_STACK_TRACE_CALLED"/>
    </Match>
    
    <Match>
      <Class name="wlp.lib.extract.SelfExtractUtils" />
      <Method name="fixScriptPermissions"/>
      <Bug pattern="THROWABLE_PRINT_STACK_TRACE_CALLED"/>
    </Match>
    
    <!-- Ignore the possibility of checking for NULL on a variable that might not be
         null as more checks are better than less to be 100% confident we are set up
         right -->
    <Match>
      <Class name="wlp.lib.extract.ZipLicenseProvider" />
      <Bug pattern="RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE"/>
      <Method name="buildInstance"/>
    </Match>
    
    <!-- Pre-existing usage (and probably reasonable in this case) -->
    <Match>
      <Class name="~wlp\.lib\.extract\.SelfExtract(or)?"/>
      <Method name="~(in|printNeededIFixes)"/>
      <Bug pattern="DM_DEFAULT_ENCODING"/>
    </Match>
    
   	<!-- Default encoding for reading output of a process is reasonable -->
    <Match> 
      <Class name="~wlp\.lib\.extract\.platform\.PlatformUtils\$.*"/>
      <Method name="run"/>
      <Bug pattern="DM_DEFAULT_ENCODING"/>
    </Match>
    
    <!-- Assume that the SelfExtractor.displayCommandLineHelp method is permitted to make System.out.println and System.err.println etc. calls-->
    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Or>
        <Method name="displayCommandLineHelp"/>
        <Method name="handleLicenseAcceptance"/>
        <Method name="obtainLicenseAgreement"/>
        <Method name="parseArguments"/>
      </Or>
      <Bug pattern="SYSTEM_OUT_USED"/>
    </Match>
    
    <!-- Assume that some SelfExtractor methods are permitted to make System.exit calls-->
    <Match>
      <Class name="wlp.lib.extract.SelfExtractor" />
      <Or>
        <Method name="handleLicenseAcceptance"/>
        <Method name="parseArguments"/>
        <Method name="showLicenseFile"/>
      </Or>
      <Bug pattern="DM_EXIT"/>
    </Match>
        
    <!-- Ignore the redundant null check because the variable may get set in the parseArguments method. -->
    <Match>
      <Class name="wlp.lib.extract.SelfExtract" />
      <Bug pattern="RCN_REDUNDANT_NULLCHECK_OF_NULL_VALUE"/>
      <Method name="doMain"/>
    </Match>
    
    <!-- No need to check the return value -->
    <Match>
    	<Class name="wlp.lib.extract.platform.PPPlatformUtils$PPLinux"/>
    	<Method name="parseSymbolicUmask"/>
    	<Bug pattern="RV_RETURN_VALUE_IGNORED"/>
    </Match>
    
    <!-- Null is a valid return value and would not cause an NPE -->
  	<Match>
      <Class name="wlp.lib.extract.SelfExtractor"/>
      <Method name="setFilePermission"/>
      <Bug pattern="RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE"/>
    </Match>

    <!-- ok for runServer to start stream reader threads and write errors to std out -->
    <Match>
      <Class name="wlp.lib.extract.SelfExtractRun" />
      <Method name="runServer"/>
      <Bug pattern="THREAD_START_CALLED,SYSTEM_OUT_USED"/>
    </Match>

    <!-- ok for shutdown hook to write errors to std out -->
    <Match>
      <Class name="wlp.lib.extract.ShutdownHook" />
      <Bug pattern="SYSTEM_OUT_USED"/>
    </Match>

    <!-- ok to use key iterator because both keys and values are needed -->
    <Match>
      <Class name="wlp.lib.extract.SelfExtractUtils"/>
      <Method name="runEnv"/>
      <Bug pattern="WMI_WRONG_MAP_ITERATOR"/>
    </Match>

    <!-- Purpose of StreamReader is to write logs to stdout  -->
    <Match>
      <Class name="wlp.lib.extract.StreamReader" />
      <Bug pattern="SYSTEM_OUT_USED"/>
    </Match>

    <!-- Suppress warning about PrintWriter reliance on default encoding. It is 
	 erroneous since PrintWriter is built from an OutputStreamWriter ("os") that
         is created with a specified encoding. -->
    <Match>
      <Class name="wlp.lib.extract.StreamReader" />
      <Method name="runInputStream"/>
      <Bug pattern="DM_DEFAULT_ENCODING"/>
    </Match>

    <!-- Suppress warning about exceptional return value of java.io.File.delete()
    ignored -->
    <Match>
      <Class name="wlp.lib.extract.LicenseSelfExtractor" />
      <Method name="updateFixpackVersionInISOTagFile"/>
      <Bug pattern="RV_RETURN_VALUE_IGNORED_BAD_PRACTICE"/>
    </Match>
    


</FindBugsFilter>
