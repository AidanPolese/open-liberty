<server>
    <include location="../fatTestPorts.xml"/>

    <featureManager>
        <feature>osgiConsole-1.0</feature>
        <feature>servlet-3.0</feature>       
        <feature>localConnector-1.0</feature> 
        <feature>oauth-2.0</feature>
		<feature>ssl-1.0</feature>		
		<feature>openidConnectServer-1.0</feature>
    </featureManager>

    <application type="ear" id="myEJBEAR" name="myEJBEAR" location="sharedLibEJB.ear" />

    <dataSource id="dataSource" jndiName="jdbc/DictionaryDB" supplementalJDBCTrace="true">
        <properties.derby.embedded createDatabase="create" databaseName="${server.config.dir}/dictionaryDB"/>
        <jdbcDriver libraryRef="myLib" />
    </dataSource>

    <library id="myLib">
        <fileset dir="${server.config.dir}/SharedLibraryA" includes="*.jar" />
    </library>
    
    <openidConnectProvider id="OidcConfigSample" oauthProviderRef="OAuthConfigSample" />
    
    <oauthProvider id="OAuthConfigSample" filter="request-url%=snoop;request-url!=snooping" oauthOnly="true">
		<autoAuthorizeClient>client01</autoAuthorizeClient>		
		
		<localStore>			
	   		<client name="client01" secret="{xor}LDo8LTor"
	    		displayname="client01"
		    	redirect="http://localhost:9999/oauthclient/redirect.jsp"
				enabled="true"/>		
		</localStore>
	</oauthProvider>
	
</server>