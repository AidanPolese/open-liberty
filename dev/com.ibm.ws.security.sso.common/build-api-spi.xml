<project name="com.ibm.ws.security.sso.common-api-spi" default="buildApiSpi">
  
  <target name="buildApiSpi">
    <subApiSpi target="buildApiWithApiBnd" antfile="build-api.xml" />
    <subApiSpi target="buildApiSpi"        antfile="build-spi.xml" />
  </target>

  <target name="clean">
    <subApiSpi target="clean" antfile="build-api.xml" />
    <subApiSpi target="clean" antfile="build-spi.xml" />
  </target>

  <!-- cann *-api xml or *-spi.xml -->
  <macrodef name="subApiSpi">
    <attribute name="target" />
    <attribute name="antfile" />
    <element name="properties" />
    <sequential>
      <subant target="@{target}">
         <fileset file="${basedir}/@{antfile}" />
      </subant>
    </sequential>
  </macrodef>

</project>
