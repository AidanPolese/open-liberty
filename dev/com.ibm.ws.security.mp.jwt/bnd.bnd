-include= ~../cnf/resources/bnd/bundle.props
bVersion=1.0
javac.source: 1.8
javac.target: 1.8

Bundle-Name: WAS Secuity MP JWT 1.0
Bundle-SymbolicName: com.ibm.ws.security.mp.jwt
Bundle-Description: WAS security jwt authentication for microprofile, version=${bVersion}
Require-Capability: osgi.ee; filter:="(&(osgi.ee=JavaSE)(version=1.8))"

#Web-ContextPath: /ibm/api/social-login


WS-TraceGroup: \
  MPJWT

# For each exported package, create (in that package) a package-info.java...
# file, and place an @version javadoc tag in package-level javadoc. 
# Append ";provide:=true" if this bundle also provides an implementation
# for the exported API.


Export-Package: \
   com.ibm.ws.security.mp.jwt


Import-Package: \
   javax.servlet;version="!", \
   javax.servlet.*;version="!", \
   com.ibm.websphere.ras, \
   org.osgi.service.component, \
   org.osgi.service.cm, \
   org.osgi.framework, \
   com.ibm.wsspi.kernel.service.utils, \
   com.ibm.wsspi.ssl, \
   com.ibm.wsspi.security.tai, \
   com.ibm.ws.webcontainer.security, \
   com.ibm.ws.webcontainer.srt, \
   org.jose4j.keys, \
   org.jose4j.lang, \
   org.jose4j.json, \
   org.jose4j.jwt, \
   org.jose4j.jwt.consumer, \
   org.jose4j.jws, \
   org.jose4j.jwx, \
   com.ibm.ws.security.authentication.utility, \
   org.eclipse.microprofile.jwt, \
   com.ibm.ws.security.common.*, \
   com.ibm.websphere.security, \
   com.ibm.websphere.security.jwt, \
   com.ibm.websphere.ssl, \
   com.ibm.ws.security.jwt.config, \
   com.ibm.ws.ffdc.annotation, \
   javax.net.ssl, \
   javax.security.auth

Private-Package: \
    com.ibm.ws.security.mp.jwt.impl.*, \
    com.ibm.ws.security.mp.jwt.error, \
    com.ibm.ws.security.mp.jwt.tai
    
-dsannotations: com.ibm.ws.security.mp.jwt.impl.MicroProfileJwtConfigImpl

-dsannotations-inherit = true

Service-Component:\
  com.ibm.ws.security.mp.jwt.service; \
    implementation:=com.ibm.ws.security.mp.jwt.impl.MicroProfileJwtServiceImpl; \
    provide:='com.ibm.ws.security.mp.jwt.MicroProfileJwtService'; \
    configuration-policy:=ignore; \
    modified:='modified'; \
    activate:='activate'; \
    deactivate:='deactivate'; \
    immediate:=true; \
    configurationAdmin=org.osgi.service.cm.ConfigurationAdmin; \
    sslSupport=com.ibm.wsspi.ssl.SSLSupport; \
    keyStoreService=com.ibm.ws.ssl.KeyStoreService; \
    optional:='sslSupport,keyStoreService'; \
    dynamic:='configurationAdmin,sslSupport,keyStoreService'; \
    properties:="service.vendor=IBM,type=microProfileJwtService", \
  com.ibm.ws.security.mp.jwt.tai; \
    implementation:=com.ibm.ws.security.mp.jwt.tai.MicroProfileJwtTAI; \
    provide:='com.ibm.wsspi.security.tai.TrustAssociationInterceptor,\
              com.ibm.ws.webcontainer.security.UnprotectedResourceService'; \
    configuration-policy:=ignore; \
    modified:='modified'; \
    activate:='activate'; \
    deactivate:='deactivate'; \
    immediate:=true; \
    microProfileJwtConfig='com.ibm.ws.security.mp.jwt.MicroProfileJwtConfig'; \
    securityService=com.ibm.ws.security.SecurityService; \
    authCacheService=com.ibm.ws.security.authentication.cache.AuthCacheService; \
    locationAdmin=com.ibm.wsspi.kernel.service.location.WsLocationAdmin; \
    optional:='authFilter,microProfileJwtConfig,securityService'; \
    dynamic:='securityService'; \
    greedy:='microProfileJwtConfig'; \
    multiple:='microProfileJwtConfig'; \
    properties:="service.vendor=IBM,id=MPJwtTAI,TAIName=MPJwtTAI,invokeAfterSSO:Boolean=true"

Include-Resource: \
    OSGI-INF=resources/OSGI-INF

-buildpath: \
	com.ibm.ws.org.osgi.annotation.versioning;version=latest, \
        com.ibm.websphere.org.osgi.core;version=latest, \
        com.ibm.websphere.org.osgi.service.cm;version=latest, \
        com.ibm.websphere.org.osgi.service.component;version=latest, \
        com.ibm.wsspi.org.osgi.service.component.annotations;version=latest, \
        com.ibm.websphere.javaee.jsonp.1.0;version=latest, \
        com.ibm.ws.org.osgi.annotation.versioning;version=latest, \
        com.ibm.ws.logging;version=latest, \
        com.ibm.ws.kernel.service;version=latest, \
        com.ibm.websphere.security;version=latest, \
        com.ibm.ws.resource;version=latest, \
        com.ibm.ws.crypto.passwordutil;version=latest, \
        com.ibm.ws.webcontainer.security;version=latest, \
        com.ibm.ws.ssl;version=latest, \
        com.ibm.ws.webcontainer;version=latest, \
        com.ibm.websphere.javaee.servlet.3.1;version=latest, \
        com.ibm.ws.security;version=latest, \
        com.ibm.ws.security.authentication.tai;version=latest, \
        com.ibm.ws.security.authentication;version=latest, \
        com.ibm.ws.org.jose4j.0.5.1;version=latest, \
        com.ibm.ws.security.jwt;version=latest, \
        com.ibm.ws.security.token;version=latest, \
        com.ibm.ws.security.common;version=latest, \
        com.ibm.ws.org.apache.commons.codec.1.4;version=latest, \
        com.ibm.websphere.org.eclipse.microprofile.jwt.1.0;version=latest

