Index: G:/opensource/cxf/2.6.x-fixes/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/interceptors/SwAOutInterceptor.java
===================================================================
--- G:/opensource/cxf/2.6.x-fixes/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/interceptors/SwAOutInterceptor.java	(revision 1436210)
+++ G:/opensource/cxf/2.6.x-fixes/rt/frontend/jaxws/src/main/java/org/apache/cxf/jaxws/interceptors/SwAOutInterceptor.java	(revision 1436211)
@@ -25,6 +25,8 @@
 import java.io.ByteArrayOutputStream;
 import java.io.IOException;
 import java.lang.reflect.Method;
+import java.security.AccessController;
+import java.security.PrivilegedExceptionAction;
 import java.util.ArrayList;
 import java.util.Collection;
 import java.util.Iterator;
@@ -81,11 +83,20 @@
         addBefore(WrapperClassOutInterceptor.class.getName());
     }
     
-    private boolean callSWARefMethod(JAXBContext ctx) {
+    private boolean callSWARefMethod(final JAXBContext ctx) {
         Method m = SWA_REF_METHOD.get(ctx.getClass().getName());
         if (m == null && !SWA_REF_METHOD.containsKey(ctx.getClass().getName())) {
             try {
-                m = ctx.getClass().getMethod("hasSwaRef", new Class[0]);
+                m = AccessController.doPrivileged(new PrivilegedExceptionAction<Method>() {
+
+                    public Method run() throws Exception {
+                        Method hasSwaRefMethod = ctx.getClass().getMethod("hasSwaRef", new Class[0]);
+                        if (!hasSwaRefMethod.isAccessible()) {
+                            hasSwaRefMethod.setAccessible(true);
+                        }
+                        return hasSwaRefMethod;
+                    }
+                });
                 SWA_REF_METHOD.put(ctx.getClass().getName(), m);
             } catch (Exception e) {
                 //ignore
@@ -219,7 +230,8 @@
             atts.add(att);
         }
     }
-    private boolean hasSwaRef(JAXBDataBinding db) {
+
+    protected boolean hasSwaRef(JAXBDataBinding db) {
         JAXBContext context = db.getContext();
         return callSWARefMethod(context);
     }
Index: G:/opensource/cxf/2.6.x-fixes
===================================================================
--- G:/opensource/cxf/2.6.x-fixes	(revision 1436210)
+++ G:/opensource/cxf/2.6.x-fixes	(revision 1436211)

Property changes on: G:/opensource/cxf/2.6.x-fixes
___________________________________________________________________
Modified: svnmerge-integrated
## -1 +1 ##
-/cxf/branches/2.7.x-fixes:1-1348209,1348845,1348862,1348866,1349016,1349264,1349307,1349406,1349549,1349714-1349717,1349723,1349825,1350114,1350141,1350186,1350215-1350303,1350305,1350318,1350582,1350617,1350633,1350739,1350788,1350803,1351410,1351418,1351586,1351617,1351626,1351657,1351674,1351934,1352069,1352162,1352180,1352214-1352848,1352948,1352965-1352966,1353452,1353454,1353459,1353560,1353597,1353650,1353856,1353909,1354002-1354009,1354199,1354441-1354446,1354882,1355160,1355195,1355201,1355380,1355383,1355396,1355405,1355437,1355462,1355500-1355502,1355504,1356043,1356063,1356387,1356579,1356822,1356832,1357060,1357091,1357094,1357454-1357455,1358045,1358095,1358270-1358302,1359033,1359078,1359285,1359298-1359300,1359317,1359554,1359782-1359784,1360007,1360188-1360189,1360262,1360401-1360406,1360442,1360444,1360644,1360864,1361175,1361283,1361324-1361325,1361927,1362114,1362260-1362262,1362437,1362448,1362484,1362686-1362711,1362908,1362988-1362991,1363166-1363167,1363334,1363350,1363394,1363431,1363513,1363782,1363879,1363939,1363997-1364437,1364548,1364702,1364754,1365097,1365130,1365160-1365332,1365536,1365609,1365627,1365658,1365734,1366308,1366432,1366455,1366740,1367628,1367836,1367906,1367920,1368015,1368099-1368101,1368103-1368104,1368154-1368156,1368316,1368431,1368470-1368471,1368484,1368552,1368559,1368601,1368644,1368661,1368868,1368978,1368990,1369020,1369075,1369649,1369660,1369901,1369991,1370142,1370161,1370295-1370296,1370477,1370687,1370720,1371340,1371346,1371354,1371581,1371777,1371788,1371858,1372094,1372124,1372150,1372389,1372428,1372455,1372552,1372799,1372877,1372927-1372928,1372972,1373166,1373240,1373475,1373477,1373482,1373526,1373528,1373661,1374058,1374268,1374412,1375100-1375150,1375154-1375178,1375180-1375372,1375374-1375793,1375795-1376072,1376146,1376613,1376897,1376925,1377721,1377784,1377789,1378155,1378196,1378202,1378220,1378288-1378290,1378451,1378834,1378989,1379601,1380132,1380176,1380244,1380787,1381136,1381152-1381154,1381379-1381380,1381621,1381672-1381676,1381688,1382076,1382092,1382103-1382104,1382763-1382958,1382960-1382965,1383018,1383462,1383465,1383571,1384254-1384380,1384382-1384439,1384442,1384444-1384510,1384512-1384725,1384727-1386576,1386578-1386717,1386719-1387187,1387189-1387249,1387251-1387754,1387757-1388010,1388096,1388226,1388384,1388455,1388505,1388911,1389207,1389225,1389480,1389514,1389546-1389547,1389549,1389551-1389552,1389571,1389691,1389788,1389791-1389792,1390056,1390058-1390059,1390598,1390600,1390602,1391031,1391068,1391102,1391390,1391438,1391510,1392027-1392092,1392527,1392577,1393052,1393093-1393095,1393360,1393463,1393544,1393574,1393646,1394163,1394181,1394216,1394433,1394520,1394559,1394612,1395514,1395548,1395941,1396050,1396302-1396548,1396550,1396585,1396595-1396621,1396630,1396988,1397127,1397180,1397280,1397469,1397611,1397657,1397685,1398052,1398200,1398207,1398242,1398285,1398302,1398331,1398390,1398414,1398449,1398484,1398490,1398606,1398629,1398831,1398860,1398869,1399007,1399181,1399195-1399196,1399301,1399336,1399345,1399359,1399983,1399990,1400213,1400692-1400815,1400817-1400834,1400836-1400938,1400940-1401234,1401236-1401596,1401598-1402092,1402100-1402200,1402202-1402204,1402206-1403660,1403662-1403691,1403693-1404089,1404148-1404255,1404257-1404549,1404551-1404599,1404601-1404718,1404720-1404730,1404732-1405020,1405022-1405063,1405644,1405745,1405852,1405868,1405874,1406106,1406332,1406468,1406710,1406847,1406907,1406958,1408414,1408627-1408681,1408683-1408691,1408693-1408715,1408717-1408729,1408731-1408735,1408737-1408831,1408833-1408834,1408836-1408861,1408863-1409043,1409324-1409325,1409656-1409660,1409665,1409750,1409768,1409843,1410140-1410142,1410158,1410181-1410182,1410201,1410302,1410348,1410382,1410402,1410408,1410438-1410440,1410461,1410497,1410515,1410521,1411067-1411068,1411230,1411248,1411263,1411278,1411288,1411309,1411318-1411319,1411323,1411327,1411331,1411338,1411342,1411397,1411506-1411547,1411658,1411708,1411744,1411799-1411800,1411804,1411811,1411869,1412045,1412091,1412109,1412124,1412437,1412562,1412592,1412608,1412804,1412844,1412851,1412853,1412902,1412949,1413497,1413591,1413973,1414204,1414247,1414289,1414383,1414386-1414387,1414390,1414658-1414672,1414674-1414699,1414780,1414786,1414790,1414792,1414802,1414816-1414817,1414825,1414850,1414897-1414899,1414962,1415207,1415221,1415609,1415618,1415623,1415705,1415743,1415779,1416601,1416766,1416888,1416906,1416953,1417025,1417095,1417098,1417141,1417147,1417152,1417360,1417399-1417400,1417426,1417501,1417515,1417531,1417571,1417633,1417769,1417840,1417880,1417894,1418024,1418688,1419014-1419094,1419325-1419370,1419434,1419471,1419588,1420307,1420311,1420627,1420698,1420739,1421097,1421120,1421245-1421247,1421277,1421320,1421358,1421386,1421414,1421721,1421941,1421946,1421983-1422119,1422882,1422898,1422958,1423025-1423026,1423063-1423065,1423129-1423130,1423175,1423535,1423657,1423814,1423914,1423926,1423980-1423982,1424005,1424108,1424525-1424526,1424641-1424642,1424789,1424845,1424856,1424873-1424874,1424948-1424951,1424979,1424983,1425012,1425493,1425528,1425534,1425718,1426140,1426184,1426201,1426284,1426475,1426547,1426594,1428285,1428342,1428398,1428524,1428529,1428543,1428795,1428816,1429025,1429231,1429242,1429450,1429758,1430203,1430911-1430912,1430982-1430985,1431334-1431335,1431984,1432076-1432077,1432800,1433010-1433011,1433043,1433136,1433306,1433349,1433898-1433899,1434046-1434047,1434358,1434566,1435036,1435227
+/cxf/branches/2.7.x-fixes:1-1348209,1348845,1348862,1348866,1349016,1349264,1349307,1349406,1349549,1349714-1349717,1349723,1349825,1350114,1350141,1350186,1350215-1350303,1350305,1350318,1350582,1350617,1350633,1350739,1350788,1350803,1351410,1351418,1351586,1351617,1351626,1351657,1351674,1351934,1352069,1352162,1352180,1352214-1352848,1352948,1352965-1352966,1353452,1353454,1353459,1353560,1353597,1353650,1353856,1353909,1354002-1354009,1354199,1354441-1354446,1354882,1355160,1355195,1355201,1355380,1355383,1355396,1355405,1355437,1355462,1355500-1355502,1355504,1356043,1356063,1356387,1356579,1356822,1356832,1357060,1357091,1357094,1357454-1357455,1358045,1358095,1358270-1358302,1359033,1359078,1359285,1359298-1359300,1359317,1359554,1359782-1359784,1360007,1360188-1360189,1360262,1360401-1360406,1360442,1360444,1360644,1360864,1361175,1361283,1361324-1361325,1361927,1362114,1362260-1362262,1362437,1362448,1362484,1362686-1362711,1362908,1362988-1362991,1363166-1363167,1363334,1363350,1363394,1363431,1363513,1363782,1363879,1363939,1363997-1364437,1364548,1364702,1364754,1365097,1365130,1365160-1365332,1365536,1365609,1365627,1365658,1365734,1366308,1366432,1366455,1366740,1367628,1367836,1367906,1367920,1368015,1368099-1368101,1368103-1368104,1368154-1368156,1368316,1368431,1368470-1368471,1368484,1368552,1368559,1368601,1368644,1368661,1368868,1368978,1368990,1369020,1369075,1369649,1369660,1369901,1369991,1370142,1370161,1370295-1370296,1370477,1370687,1370720,1371340,1371346,1371354,1371581,1371777,1371788,1371858,1372094,1372124,1372150,1372389,1372428,1372455,1372552,1372799,1372877,1372927-1372928,1372972,1373166,1373240,1373475,1373477,1373482,1373526,1373528,1373661,1374058,1374268,1374412,1375100-1375150,1375154-1375178,1375180-1375372,1375374-1375793,1375795-1376072,1376146,1376613,1376897,1376925,1377721,1377784,1377789,1378155,1378196,1378202,1378220,1378288-1378290,1378451,1378834,1378989,1379601,1380132,1380176,1380244,1380787,1381136,1381152-1381154,1381379-1381380,1381621,1381672-1381676,1381688,1382076,1382092,1382103-1382104,1382763-1382958,1382960-1382965,1383018,1383462,1383465,1383571,1384254-1384380,1384382-1384439,1384442,1384444-1384510,1384512-1384725,1384727-1386576,1386578-1386717,1386719-1387187,1387189-1387249,1387251-1387754,1387757-1388010,1388096,1388226,1388384,1388455,1388505,1388911,1389207,1389225,1389480,1389514,1389546-1389547,1389549,1389551-1389552,1389571,1389691,1389788,1389791-1389792,1390056,1390058-1390059,1390598,1390600,1390602,1391031,1391068,1391102,1391390,1391438,1391510,1392027-1392092,1392527,1392577,1393052,1393093-1393095,1393360,1393463,1393544,1393574,1393646,1394163,1394181,1394216,1394433,1394520,1394559,1394612,1395514,1395548,1395941,1396050,1396302-1396548,1396550,1396585,1396595-1396621,1396630,1396988,1397127,1397180,1397280,1397469,1397611,1397657,1397685,1398052,1398200,1398207,1398242,1398285,1398302,1398331,1398390,1398414,1398449,1398484,1398490,1398606,1398629,1398831,1398860,1398869,1399007,1399181,1399195-1399196,1399301,1399336,1399345,1399359,1399983,1399990,1400213,1400692-1400815,1400817-1400834,1400836-1400938,1400940-1401234,1401236-1401596,1401598-1402092,1402100-1402200,1402202-1402204,1402206-1403660,1403662-1403691,1403693-1404089,1404148-1404255,1404257-1404549,1404551-1404599,1404601-1404718,1404720-1404730,1404732-1405020,1405022-1405063,1405644,1405745,1405852,1405868,1405874,1406106,1406332,1406468,1406710,1406847,1406907,1406958,1408414,1408627-1408681,1408683-1408691,1408693-1408715,1408717-1408729,1408731-1408735,1408737-1408831,1408833-1408834,1408836-1408861,1408863-1409043,1409324-1409325,1409656-1409660,1409665,1409750,1409768,1409843,1410140-1410142,1410158,1410181-1410182,1410201,1410302,1410348,1410382,1410402,1410408,1410438-1410440,1410461,1410497,1410515,1410521,1411067-1411068,1411230,1411248,1411263,1411278,1411288,1411309,1411318-1411319,1411323,1411327,1411331,1411338,1411342,1411397,1411506-1411547,1411658,1411708,1411744,1411799-1411800,1411804,1411811,1411869,1412045,1412091,1412109,1412124,1412437,1412562,1412592,1412608,1412804,1412844,1412851,1412853,1412902,1412949,1413497,1413591,1413973,1414204,1414247,1414289,1414383,1414386-1414387,1414390,1414658-1414672,1414674-1414699,1414780,1414786,1414790,1414792,1414802,1414816-1414817,1414825,1414850,1414897-1414899,1414962,1415207,1415221,1415609,1415618,1415623,1415705,1415743,1415779,1416601,1416766,1416888,1416906,1416953,1417025,1417095,1417098,1417141,1417147,1417152,1417360,1417399-1417400,1417426,1417501,1417515,1417531,1417571,1417633,1417769,1417840,1417880,1417894,1418024,1418688,1419014-1419094,1419325-1419370,1419434,1419471,1419588,1420307,1420311,1420627,1420698,1420739,1421097,1421120,1421245-1421247,1421277,1421320,1421358,1421386,1421414,1421721,1421941,1421946,1421983-1422119,1422882,1422898,1422958,1423025-1423026,1423063-1423065,1423129-1423130,1423175,1423535,1423657,1423814,1423914,1423926,1423980-1423982,1424005,1424108,1424525-1424526,1424641-1424642,1424789,1424845,1424856,1424873-1424874,1424948-1424951,1424979,1424983,1425012,1425493,1425528,1425534,1425718,1426140,1426184,1426201,1426284,1426475,1426547,1426594,1428285,1428342,1428398,1428524,1428529,1428543,1428795,1428816,1429025,1429231,1429242,1429450,1429758,1430203,1430911-1430912,1430982-1430985,1431334-1431335,1431984,1432076-1432077,1432800,1433010-1433011,1433043,1433136,1433306,1433349,1433898-1433899,1434046-1434047,1434358,1434566,1435036,1435227,1436210
\ No newline at end of property
Modified: svn:mergeinfo
   Merged /cxf/trunk:r1436208
   Merged /cxf/branches/2.7.x-fixes:r1436210
