<?xml version="1.0" encoding="UTF-8"?>
<project name="com.ibm.ws.repository.resolver_fat" default="buildandrun"
  basedir=".">
  <import file="../ant_build/public_imports/repo_uploader_fat_imports.xml" />
  <property name="fat.image.type" value="use-full-image"/>
  <if if="build.engine.name">
    <property name="fat.test.build.engine.name" value="${build.engine.name}"/>
  </if>

  <target name="compile" depends="compile.compile" />

  <target name="addProjectSpecificRequiredLibraries">
    <echo message="including resolver dependencies and required libraries for lars client" />
    <union id="project.specific.required.lib.resources">
      <mappedresources>
        <globmapper from="*" to="autoFVT/lib/*" />
        <union>
          <fileset dir="${basedir}/../ant_build/lib" includes="jmock.jar" />
          <fileset dir="${basedir}/../build.sharedResources/lib"
            includes="hamcrest-all.jar" />
          <fileset dir="${basedir}/../wlp.lib.extract/build/lib"
            includes="wlp.lib.extract_1.0.jar" />
          <fileset dir="${basedir}/../org.eclipse.osgi/lib"
            includes="org.eclipse.osgi_*.jar" />
          <!-- This duplicates the 'overriden' target in repo_uploader_fat_imports.xml, 
          but I'm not sure there is a way to get the overriden target to run effectively,
          as both would reference the same union id -->
          <fileset dir="${basedir}/../ant_build/lib" includes="jmock.jar" />
          <fileset dir="${basedir}/../build.sharedResources/lib/mongo-client" includes="mongo-2.10.1.jar" />
        </union>
      </mappedresources>
    </union>
  </target>
</project>